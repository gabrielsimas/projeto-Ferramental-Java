<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html" 
     xmlns:p="http://primefaces.prime.com.tr/ui" 
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core">  
   
    <h:head>
       <title>:.Medral Tecnologia Penha.:</title>
    </h:head>
    
    <h:body style="background-color: paleturquoise"> 
    
    <ui:include src="/paginas/menu.xhtml"/>   
        
    <p:growl id="avisos" showDetail="true" life="3000" />  

    <p:fieldset legend="CADASTRO DE FORNECEDORES:" toggleable="true">  
    <h:form> 
        
        <h:panelGrid columns="6">
            <h:outputText value="ID:" />  
            <p:inputText id="idforn" value="#{FornecedorBean.fornecedor.idforn}" maxlength="4" size="6"/>
            
            <h:outputText value="RAZÃO SOCIAL:" />  
            <p:inputText id="razaosocial" value="#{FornecedorBean.fornecedor.razaosocial}" maxlength="90" size="70"/>
        
            <h:outputText value="CNPJ:"/>
            <p:inputMask mask="99.999.999/9999-99" value="#{FornecedorBean.fornecedor.cnpj}" maxlength="12" size="22"/>
        </h:panelGrid>
        
        <h:panelGrid columns="6">
            <h:outputText value="EMAIL:" />  
            <p:inputText id="email" value="#{FornecedorBean.fornecedor.email}" maxlength="40" size="35"/>
       
            <h:outputText value="TELEFONE:"/>
            <p:inputMask mask="(99)9999-9999" value="#{FornecedorBean.fornecedor.telefone}" maxlength="12" size="12"/>
        
            <h:outputText value="ENDEREÇO:" />  
            <p:inputText id="endereco" value="#{FornecedorBean.fornecedor.endereco}" maxlength="58" size="46"/>
        
        </h:panelGrid>   
        
        <p:separator style="width: 100%; height: 3px" />
        
            <p:commandButton value="CADASTRAR" actionListener="#{FornecedorBean.fornecedor.cadastrar}" type="submit" />
            <p:commandButton value="LIMPAR CAMPOS" actionListener="#{FornecedorBean.fornecedor.limpar}" type="reset" /> 
      
        </h:form>  
        </p:fieldset>  
    
    <p:fieldset legend="LISTA GERAL:" toggleable="true">  
   <h:form id="form">

                 <p:outputPanel id="books">
                    <p:dataTable id="booksTable" value="#{bookBean.books}" var="book">

                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="ID" />
                            </f:facet>
                            <h:outputText value="#{book.idforn}" />
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="RAZÃO SOCIAL" />
                            </f:facet>
                            <h:outputText value="#{book.nomeForn}" />
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                             <h:outputText value="CNPJ" />
                            </f:facet>
                            <h:outputText value="#{book.cnpj}" />
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="EMAIL" />
                            </f:facet>
                            <h:outputText value="#{book.email}" />
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="TELEFONE" />
                            </f:facet>
                            <h:outputText value="#{book.telefone}" />
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="ENDEREÇO" />
                            </f:facet>
                            <h:outputText value="#{book.endereco}" />
                        </p:column>
                       
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="OPERAÇÃO" />
                            </f:facet>
                            
                            <p:commandLink value="EXCLUIR" update=":form:books" process=":form:books">
                                <p:collector value="#{book}"
                                             removeFrom="#{bookBean.books}" />
                            </p:commandLink>
                        </p:column>

                    </p:dataTable>
                </p:outputPanel>

            </h:form>  
        </p:fieldset>     

    </h:body>  

 </html> 

 